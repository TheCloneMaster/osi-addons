<odoo>

    <record
        id="action_compute_time_based_pricing_product_attributes"
        model="ir.actions.server"
    >
            <field
            name="name"
        >Compute time based pricing from Product Attributes</field>
            <field name="model_id" ref="product.model_product_template" />
            <field name="binding_model_id" ref="product.model_product_template" />
            <field name="state">code</field>
            <field name="code">
self = records or record  # In a Server Action
for template in self:
    populate_recurrence_price_id = template.populate_recurrence_price_ids and template.populate_recurrence_price_ids[0] or False
    template.product_pricing_ids.unlink()
    for variant in template.product_variant_ids:
        price = template.list_price
        vals = {
          "product_template_id": template.id,
          "product_variant_ids": [(6, 0, [variant.id])],
          "recurrence_id": populate_recurrence_price_id.recurrence_id.id,
          "price": price * populate_recurrence_price_id.recurrence_id.factor,
        }
        template.product_pricing_ids.create(vals)
            </field>
     </record>

    <record
        id="product_template_form_view_sale_temporal_from_attributes"
        model="ir.ui.view"
    >
        <field name="name">product.template.form.sale_temporal_from_attributes</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_form_view" />
        <field name="arch" type="xml">
           <field name="product_pricing_ids" position="before">
                <field
                    name="populate_recurrence_price_ids"
                    nolebel="1"
                    widget="many2many_tags"
                />
            </field>
        </field>
    </record>

</odoo>
