<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="assets_frontend" inherit_id="portal.assets_frontend" name="Website Assets">
        <xpath expr="//link[last()]" position="after">
            <script src="/sale_subscription_openshift/static/src/js/instance.js" type="text/javascript"/>
        </xpath>
    </template>
    <record id="instance" model="ir.ui.view">
        <field name="name">Instance</field>
        <field name="type">qweb</field>
        <field name="key">website.instance</field>
        <field name="arch" type="xml">
            <t name="instance" t-name="sale_subscription_openshift.instance">
                <t t-call="website.layout">
                    <div id="wrap">
                        <div class="oe_structure">
                            <section class="s_text_image pt8 pb8">
                                <div class="container">
                                    <div class="row justify-content-center">
                                        <div class="col-12 col-md-10 col-lg-8">
                                            <form action="/buy_instance" class="card card-sm" id="instance_form" method="post">
                                                <div class="card-body row no-gutters align-items-center">
                                                    <div class="col">
                                                        <input class="form-control form-control-lg form-control-borderless" id="input_instance_name" name="instance_name" placeholder="Search Instance" type="search"/>
                                                    </div>
                                                    <div class="col-auto">
                                                        <a class="btn btn-lg btn-primary btn_find_instance">
                                                            <i class="fa fa-search" style="color:white"/>
                                                        </a>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                    <div class="row justify-content-center hide d-none" id="is_unavailble">
                                        <div class="col-12 col-md-10 col-lg-8">
                                            <span class="label label-danger">Instance is unavailable. </span>
                                        </div>
                                    </div>
                                    <div class="row justify-content-center hide d-none" id="is_availble">
                                        <div class="col-12 col-md-10 col-lg-8">
                                            <span class="label label-info">Instance is available. </span>
                                            <a id="btn_find_anchor" style="color:rgb(55 123 255);cursor: pointer;">
                                                <i class="fa fa-arrow-right mr-1"/>Buy a instance</a>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                </t>
            </t>
        </field>
    </record>
    <template id="cart_lines_inherit" inherit_id="website_sale.cart_lines">
        <xpath expr="//tbody/t/tr/td[4]" position="replace">
            <td class="text-center td-qty">
                <div class="css_quantity input-group mx-auto">
                    <t t-if="not line.product_id.recurring_invoice">
                        <div class="input-group-prepend">
                            <a aria-label="Remove one" class="btn btn-link js_add_cart_json d-none d-md-inline-block" t-attf-href="#" title="Remove one">
                                <i class="fa fa-minus"/>
                            </a>
                        </div>
                        <input class="js_quantity form-control quantity" t-att-data-line-id="line.id" t-att-data-product-id="line.product_id.id" t-att-value="int(line.product_uom_qty) == line.product_uom_qty and int(line.product_uom_qty) or line.product_uom_qty" type="text"/>
                        <div class="input-group-append">
                            <a aria-label="Add one" class="btn btn-link float_left js_add_cart_json d-none d-md-inline-block" t-attf-href="#" title="Add one">
                                <i class="fa fa-plus"/>
                            </a>
                        </div>
                    </t>
                    <t t-else="0">
                        <input class="js_quantity form-control quantity" readonly="1" style="border: none;background: #f2f2f2;" t-att-data-line-id="line.id" t-att-data-product-id="line.product_id.id" t-att-value="int(line.product_uom_qty) == line.product_uom_qty and int(line.product_uom_qty) or line.product_uom_qty" type="text"/>
                    </t>
                </div>
            </td>
        </xpath>
    </template>
</odoo>
